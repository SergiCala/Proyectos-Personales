import requests

with open("proxys.py", "r") as f:
    proxies = f.read().split("\n")



sites_to_check = ["http://books.toscrape.com",
                  "http://books.toscrape.com/catalogue/category/books/travel_2/index.html",
                  "http://books.toscrape.com/catalogue/category/books/sequential-art_5/index.html"]

# Nos comprobara un proxy por sitio web que le a√±adamos a la lista anterior

contador = 0

for site in sites_to_check:
    try:
        print(f" Estamos usando el proxy: {proxies[contador]}")
        res = requests.get(site, proxies={"http": proxies[contador],
                                          "https": proxies[contador]})
        print(res.status_code)

        contador += 1
    except:
        print("Error: ")

